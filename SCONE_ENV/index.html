



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Scone Documentation - Secure Containers">
      
      
        <link rel="canonical" href="https://sconedocs.github.io/SCONE_ENV/">
      
      
        <meta name="author" content="Christof Fetzer">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.3, mkdocs-material-2.7.0">
    
    
      
        <title>environment variables - SCONE</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.78aab2dc.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.6079476c.css">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#scone-environment-variables" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://sconedocs.github.io" title="SCONE" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                SCONE
              </span>
              <span class="md-header-nav__topic">
                environment variables
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    SCONE
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Tutorial
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Tutorial
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href=".." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../outline/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../appsecurity/" title="Application-oriented security" class="md-nav__link">
      Application-oriented security
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../background/" title="SCONE Background" class="md-nav__link">
      SCONE Background
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_CLI/" title="SCONE CLI" class="md-nav__link">
      SCONE CLI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_HOST_SETUP/" title="SCONE Host Setup" class="md-nav__link">
      SCONE Host Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_toolchain/" title="SCONE SGX toolchain" class="md-nav__link">
      SCONE SGX toolchain
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_Curated_Images/" title="SCONE Curated Images" class="md-nav__link">
      SCONE Curated Images
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_TUTORIAL/" title="SCONE Tutorial" class="md-nav__link">
      SCONE Tutorial
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_GENERATE_IMAGE/" title="SCONE Create Image" class="md-nav__link">
      SCONE Create Image
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_Dockerfile/" title="SCONE Dockerfile" class="md-nav__link">
      SCONE Dockerfile
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_Swarm_Example/" title="SCONE Swarm Example" class="md-nav__link">
      SCONE Swarm Example
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_Compose/" title="SCONE Compose" class="md-nav__link">
      SCONE Compose
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_CAS/" title="SCONE CAS" class="md-nav__link">
      SCONE CAS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_EE2EE/" title="Example E2E encryption" class="md-nav__link">
      Example E2E encryption
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Language Support
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Language Support
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../C/" title="C" class="md-nav__link">
      C
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../C++/" title="C++" class="md-nav__link">
      C++
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Fortran/" title="Fortran" class="md-nav__link">
      Fortran
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../GO/" title="GO" class="md-nav__link">
      GO
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Java/" title="Java" class="md-nav__link">
      Java
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Python/" title="Python" class="md-nav__link">
      Python
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Nodejs/" title="Node" class="md-nav__link">
      Node
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Rust/" title="Rust" class="md-nav__link">
      Rust
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Manuals
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Manuals
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_HOST/" title="scone host" class="md-nav__link">
      scone host
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_SERVICE/" title="scone service" class="md-nav__link">
      scone service
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_STACK/" title="scone stack" class="md-nav__link">
      scone stack
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_SWARM/" title="scone swarm" class="md-nav__link">
      scone swarm
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_VOLUME/" title="scone volume" class="md-nav__link">
      scone volume
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_Fileshield/" title="scone fspf" class="md-nav__link">
      scone fspf
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ssh/" title="ssh setup" class="md-nav__link">
      ssh setup
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        environment variables
      </label>
    
    <a href="./" title="environment variables" class="md-nav__link md-nav__link--active">
      environment variables
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#scone-configuration-file" title="SCONE Configuration File" class="md-nav__link">
    SCONE Configuration File
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#format-of-scone-configuration-file" title="Format of SCONE Configuration File" class="md-nav__link">
    Format of SCONE Configuration File
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-mode" title="Run Mode" class="md-nav__link">
    Run Mode
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#debug" title="Debug" class="md-nav__link">
    Debug
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamic-library-support" title="Dynamic library support:" class="md-nav__link">
    Dynamic library support:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performance-tuning-variables" title="Performance tuning variables:" class="md-nav__link">
    Performance tuning variables:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#safety" title="Safety" class="md-nav__link">
    Safety
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamic-link-loader" title="Dynamic link loader" class="md-nav__link">
    Dynamic link loader
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../MrEnclave/" title="MrEnclave" class="md-nav__link">
      MrEnclave
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Appendix
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Appendix
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../news/" title="News" class="md-nav__link">
      News
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SCONE_Publications/" title="Publications" class="md-nav__link">
      Publications
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../aboutScone/" title="About Scone" class="md-nav__link">
      About Scone
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../glossary/" title="Glossary" class="md-nav__link">
      Glossary
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#scone-configuration-file" title="SCONE Configuration File" class="md-nav__link">
    SCONE Configuration File
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#format-of-scone-configuration-file" title="Format of SCONE Configuration File" class="md-nav__link">
    Format of SCONE Configuration File
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-mode" title="Run Mode" class="md-nav__link">
    Run Mode
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#debug" title="Debug" class="md-nav__link">
    Debug
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamic-library-support" title="Dynamic library support:" class="md-nav__link">
    Dynamic library support:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performance-tuning-variables" title="Performance tuning variables:" class="md-nav__link">
    Performance tuning variables:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#safety" title="Safety" class="md-nav__link">
    Safety
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamic-link-loader" title="Dynamic link loader" class="md-nav__link">
    Dynamic link loader
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="scone-environment-variables">SCONE Environment Variables<a class="headerlink" href="#scone-environment-variables" title="Permanent link">&para;</a></h1>
<p>To simplify development and debugging, SCONE supports a range of environment variables to control its behavior. These environment variables are mainly used for development and debugging. In operational settings, the configuration would be provided in a secure fashion via the SCONE configuration and attestation service.</p>
<p>Also, the performance of SCONE-based applications can be tuned by selecting the appropriate configuration for an application. We have tool support to automatically tune these parameters.</p>
<h2 id="scone-configuration-file">SCONE Configuration File<a class="headerlink" href="#scone-configuration-file" title="Permanent link">&para;</a></h2>
<p>The location of the SCONE configuration file can be controlled with an environment variable:</p>
<ul>
<li><strong>SCONE_CONFIG</strong>: if defined, this determines the path of SCONE configuration file. If this environment variable is not defined or the file cannot be opened,  the default configuration file located in <em>/etc/sgx-musl.conf</em> is read instead. If the default configuration file cannot be read either, the program exits with an error message.</li>
</ul>
<p>Changing the location of the configuration file is, for example, useful in the context of testing or when you run your application outside of a container when you want to run different applications with different configurations inside of enclaves.</p>
<p>The configuration file can define most of the  behaviors that one can define via environment variables.
However, the **SCONE_* ** environment variables have higher priority than the settings from the config file.</p>
<h3 id="format-of-scone-configuration-file">Format of SCONE Configuration File<a class="headerlink" href="#format-of-scone-configuration-file" title="Permanent link">&para;</a></h3>
<p>The format for the configuration file: on each line, there is a
statement beginning with a single-character command code, and up to
three numbers. The possible commands currently are:</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Option(s)</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Q</td>
<td><strong>n</strong></td>
<td>defines the number of queues used to execute system calls</td>
</tr>
<tr>
<td></td>
<td><strong>n [number of queues]</strong></td>
<td>sets the number of syscall-return queue pairs to allocate. This is equivalent to setting the <strong>SCONE_QUEUES</strong> environment variable</td>
</tr>
<tr>
<td>H</td>
<td><strong>s</strong></td>
<td>defines the heap size in bytes</td>
</tr>
<tr>
<td></td>
<td><strong>s [heap size in bytes</strong>]</td>
<td>sets the size of heap, equivalent to setting <strong>SCONE_HEAP</strong> environment variable</td>
</tr>
<tr>
<td>P</td>
<td><strong>N</strong></td>
<td>determines the backoff behavior of the queues</td>
</tr>
<tr>
<td></td>
<td><strong>N [spin number]</strong></td>
<td>equivalent to setting <strong>SCONE_SSPINS</strong> environment variable</td>
</tr>
<tr>
<td>L</td>
<td><strong>S</strong></td>
<td>determines the backoff behavior of the queues</td>
</tr>
<tr>
<td></td>
<td><strong>S [sleep time]</strong></td>
<td>equivalent to setting <strong>SCONE_SSLEEP</strong> environment variable;</td>
</tr>
<tr>
<td>s</td>
<td><strong>C Q R</strong></td>
<td><em>sthread</em> serving system calls outside of an enclave</td>
</tr>
<tr>
<td></td>
<td><strong>C [core-no]</strong></td>
<td>if non-negative number: pin this sthread to core <strong>C</strong>; if a negative number, do not pin this thread</td>
</tr>
<tr>
<td></td>
<td><strong>Q [queue-no]</strong></td>
<td>in <strong>[0..n]</strong> ;  this sthreads serves this queue</td>
</tr>
<tr>
<td></td>
<td><strong>R [realtime]</strong></td>
<td>always set this to 0</td>
</tr>
<tr>
<td>e</td>
<td><strong>C Q R</strong></td>
<td><em>ethread</em> running inside of enclave and executes application threads (which we call lthreads)</td>
</tr>
<tr>
<td></td>
<td><strong>C [core-no]</strong></td>
<td>non-negative number: pin to this core; negative number: no pinning ot this thread</td>
</tr>
<tr>
<td></td>
<td><strong>Q [queue-no]</strong></td>
<td>in <strong>[0..n]</strong>: this sthreads serves this queue</td>
</tr>
<tr>
<td></td>
<td><strong>R [realtime]</strong></td>
<td>always set this to 0</td>
</tr>
</tbody>
</table>
<p>The number of <em>sthreads</em> is automatically increased if more <strong>sthreads</strong> are needed to process system calls. An <strong>sthread</strong> will block if it does not have any work left to do. Hence, we recommend to start exactly one <strong>sthread</strong> per <strong>ethread</strong>.</p>
<p><strong>ethreads</strong> will leave the enclave it there is no more work for them to do. Hence, it makes sense to start one ehthread per core. In some situations, it might even make sense to start one <strong>ethread</strong> per hyper-thread.</p>
<p>Unless you want to limit the the number of CPU resources an enclave should use,  the following is a good generic configuration file:</p>
<div class="codehilite"><pre><span></span>$ sudo tee  /etc/sgx-musl.conf <span class="s">&lt;&lt; EOF</span>
<span class="s">Q 4</span>
<span class="s">e -1 0 0</span>
<span class="s">s -1 0 0</span>
<span class="s">e -1 1 0</span>
<span class="s">s -1 1 0</span>
<span class="s">e -1 2 0</span>
<span class="s">s -1 2 0</span>
<span class="s">e -1 3 0</span>
<span class="s">s -1 3 0</span>
<span class="s">EOF</span>
</pre></div>

<h2 id="run-mode">Run Mode<a class="headerlink" href="#run-mode" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>SCONE_MODE</strong>: defines if application should run inside of an enclave or outside in simulation mode.</li>
</ul>
<table>
<thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>SCONE_MODE=HW</strong></td>
<td>run program inside of enclave. If program fails to create an enclave, it will fail.</td>
</tr>
<tr>
<td><strong>SCONE_MODE=SIM</strong></td>
<td>run program outside of enclave. All SCONE related software runs but just outside of the enclave. This is not 100% compatible with hardware mode since, for example, some instructions are permitted in native mode that are not permitted in hardware mode.</td>
</tr>
<tr>
<td><strong>SCONE_MODE=AUTO</strong></td>
<td>run program inside of enclave if SGX is available. Otherwise, run in simulation mode. AUTO is the default mode</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>SCONE_HEAP</strong>: size of the heap allocated for the program during the startup of the enclave.</li>
</ul>
<table>
<thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>SCONE_HEAP=s</strong></td>
<td>the requested heap size in bytes</td>
</tr>
<tr>
<td><strong>SCONE_HEAP=sM</strong></td>
<td>the requested heap size in MB</td>
</tr>
<tr>
<td><strong>SCONE_HEAP=sG</strong></td>
<td>the requested heap size in GB</td>
</tr>
</tbody>
</table>
<h2 id="debug">Debug<a class="headerlink" href="#debug" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>SCONE_VERSION</strong> if defined, SCONE will print the values of some of the SCONE environment variables during startup.</li>
</ul>
<p>Example output:</p>
<div class="codehilite"><pre><span></span><span class="nb">export</span> <span class="nv">SCONE_QUEUES</span><span class="o">=</span><span class="m">4</span>
<span class="nb">export</span> <span class="nv">SCONE_SLOTS</span><span class="o">=</span><span class="m">256</span>
<span class="nb">export</span> <span class="nv">SCONE_SIGPIPE</span><span class="o">=</span><span class="m">0</span>
<span class="nb">export</span> <span class="nv">SCONE_MMAP32BIT</span><span class="o">=</span><span class="m">0</span>
<span class="nb">export</span> <span class="nv">SCONE_SSPINS</span><span class="o">=</span><span class="m">100</span>
<span class="nb">export</span> <span class="nv">SCONE_SSLEEP</span><span class="o">=</span><span class="m">4000</span>
<span class="nb">export</span> <span class="nv">SCONE_KERNEL</span><span class="o">=</span><span class="m">0</span>
<span class="nb">export</span> <span class="nv">SCONE_HEAP</span><span class="o">=</span><span class="m">1073741824</span>
<span class="nb">export</span> <span class="nv">SCONE_CONFIG</span><span class="o">=</span>/etc/sgx-musl.conf
<span class="nb">export</span> <span class="nv">SCONE_MODE</span><span class="o">=</span>hw
<span class="nb">export</span> <span class="nv">SCONE_SGXBOUNDS</span><span class="o">=</span>no
<span class="nb">export</span> <span class="nv">SCONE_ALLOW_DLOPEN</span><span class="o">=</span>no
Revision: 9b355b99170ad434010353bb9f4dca24e532b1b7
Branch: master
Configure options: --enable-file-prot --enable-shared --enable-debug --prefix<span class="o">=</span>/scone/src/built/cross-compiler/x86_64-linux-musl
</pre></div>

<h2 id="dynamic-library-support">Dynamic library support:<a class="headerlink" href="#dynamic-library-support" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p><strong>SCONE_ALLOW_DLOPEN="1"</strong>: if defined, permit to load shared libraries after startup. These libraries must be authenticated or encrypted. Note that all libraries that are loaded during startup are measured and contribute to the hash of the enclave, i.e., they are part of <strong>MRENCLAVE</strong>. The libraries loaded during startup could reside in a file region that is not protect or that is authenticated. These libraries must not be in an encrypted region since the encryption keys are not yet known during startup.</p>
</li>
<li>
<p><strong>SCONE_ALLOW_DLOPEN="2"</strong>: must be used <strong>for debugging only</strong>: this  value enables loading of dynamic libraries after startup that are neither authenticated nor encrypted. For example, Python programs might dynamically load modules after startup. Our approach to enforce the integrity of these dynamic libraries with the help of a file protection shield, i.e., you should eiter set <strong>SCONE_ALLOW_DLOPEN="1"</strong> or you should not define <strong>SCONE_ALLOW_DLOPEN</strong>.</p>
</li>
</ul>
<h2 id="performance-tuning-variables">Performance tuning variables:<a class="headerlink" href="#performance-tuning-variables" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p><strong>SCONE_QUEUES</strong>: number of systemcall queues to be used.</p>
</li>
<li>
<p><strong>SCONE_SLOTS</strong>: systemcall queue length: must be larger than the maximum number of <em>lthreads</em>.</p>
</li>
<li>
<p><strong>SCONE_SIGPIPE</strong>: if set to "1", <em>SIGPIPE</em> signals are delivered to the application</p>
</li>
<li>
<p><strong>SCONE_SSPINS=N</strong>: In case an Ethread does not have any lthread to execute, an Ethread first pauses for up to N times to wait for more work to show up. After that, it sleeps for up to N times. Each time increasing the sleep time. </p>
</li>
<li>
<p><strong>SCONE_SSLEEP</strong>: determines how fast we increase the backoff.</p>
</li>
</ul>
<h2 id="safety">Safety<a class="headerlink" href="#safety" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>SCONE_SGXBOUNDS</strong>: must be defined to enable bounds checking. Furthermore, you need to compile your program with our SGX boundschecker.</li>
</ul>
<h2 id="dynamic-link-loader">Dynamic link loader<a class="headerlink" href="#dynamic-link-loader" title="Permanent link">&para;</a></h2>
<p>The dynamic link loader is part of image <em>sconecuratedimages/crosscompilers:runtime</em> (<a href="../SCONE_TUTORIAL/">see tutorial</a>).</p>
<ul>
<li>
<p><strong>LD_LIBRARY_PATH</strong>: you can control from where the dynamic link loader looks for shared libraries.</p>
</li>
<li>
<p><strong>LD_PRELOAD</strong>: you can instruct the dynamic link loader to load libraries before loading the libraries specified by the program itself.</p>
</li>
<li>
<p><strong>SCONE_ALPINE=1</strong>: run dynamically-linked program inside of an enclave.</p>
</li>
</ul>
<p>&copy; <a href="http://www.scontain.com">scontain.com</a>, November 2017. <a href="mailto:info@scontain.com">Questions or Suggestions?</a></p>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../ssh/" title="ssh setup" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                ssh setup
              </span>
            </div>
          </a>
        
        
          <a href="../MrEnclave/" title="MrEnclave" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                MrEnclave
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.8eb9be28.js"></script>
      
      <script>app.initialize({version:"0.17.3",url:{base:".."}})</script>
      
    
    
      
        <script>!function(e,a,t,n,o,c,i){e.GoogleAnalyticsObject=o,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),i=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",i.parentNode.insertBefore(c,i)}(window,document,"script",0,"ga"),ga("create","UA-103149717-2","sconedocs.github.io"),ga("set","anonymizeIp",!0),ga("send","pageview");var links=document.getElementsByTagName("a");if(Array.prototype.map.call(links,function(e){e.host!=document.location.host&&e.addEventListener("click",function(){var a=e.getAttribute("data-md-action")||"follow";ga("send","event","outbound",a,e.href)})}),document.forms.search){var query=document.forms.search.query;query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}</script>
      
    
  </body>
</html>